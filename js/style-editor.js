function mouseDown(a){a=a||window.event;var b=a.target||a.srcElement;if(_$("P_tab")){if(_$("P_tab").style.display=="block"){try{if(b.parentNode.parentNode.parentNode.parentNode.parentNode.id!="P_tab"){_$("P_tab").style.display="none"}}catch(c){_$("P_tab").style.display="none"}}}}function submitCSSEditor(){if(_$("styleTitle").value.trim().length>0){_$("formXML").submit()}else{_$("styleTitleErr").style.display="block"}}function CSSE_changeView(a){_$("A_"+currentTag).className="Aoff";_$("D_"+currentTag).className="off";_$("edit"+currentTag).style.display="none";_$("A_"+a).className="Aon";_$("D_"+a).className="on";_$("edit"+a).style.display="block";currentTag=a}function CSSE_showTag(a){if(a!=null){_$("D_"+a).style.display="block"}else{_$("D_Border").style.display="none";_$("D_Font").style.display="none";_$("D_Background").style.display="none";_$("D_Margin").style.display="none";_$("D_Padding").style.display="none";_$("D_Scale").style.display="none";_$("D_Height").style.display="none"}}function showResults(a){if(a){_$("divAnswers").style.display="none";_$("divResults").style.display="block";_$("pds-links-back").style.display="block";_$("pds-links").style.display="none";_$("pds-totalvotes-inner").style.display="block";_$("pds-question-top").innerHTML=pd_map.thankyou}else{_$("divAnswers").style.display="block";_$("divResults").style.display="none";_$("pds-links-back").style.display="none";_$("pds-links").style.display="block";_$("pds-totalvotes-inner").style.display="none";_$("pds-question-top").innerHTML=pd_map.question}}function renderStyleEdit(a){firstRun=true;switch(a){case"pds-box":{showResults(false);break};case"pds-question-top":{showResults(false);break};case"pds-box":{showResults(false);break};case"pds-answer-group":{showResults(false);break};case"pds-answer-input":{showResults(false);break};case"pds-answer":{showResults(false);break};case"pds-link":{showResults(false);break};case"pds-textfield":{showResults(false);break};case"pds-vote-button":{showResults(false);break};case"pds-answer-feedback":{showResults(true);break};case"pds-answer-feedback-bar":{showResults(true);break};case"pds-totalvotes-inner":{showResults(true);break}}_$("editBorder").style.display="none";_$("editFont").style.display="none";_$("editBackground").style.display="none";_$("editMargin").style.display="none";_$("editPadding").style.display="none";_$("editScale").style.display="none";_$("editHeight").style.display="none";CSSE_showTag(null);currentStyle=a;for(i=0;i<CSSXML.childNodes.length;i++){if(CSSXML.childNodes[i].nodeType!=3){for(x=0;x<CSSXML.childNodes[i].childNodes.length;x++){if(CSSXML.childNodes[i].childNodes[x].nodeType!=3){styleGroup=CSSXML.childNodes[i].childNodes[x];if(styleGroup.nodeName==a){for(y=0;y<styleGroup.childNodes.length;y++){for(z=0;z<styleGroup.childNodes[y].attributes.length;z++){attrName=styleGroup.childNodes[y].attributes[z].name;attrValue=styleGroup.childNodes[y].attributes[z].value;switch(_$(attrName).nodeName){case"SELECT":{for(q=0;q<_$(attrName).length;q++){if(_$(attrName).options[q].value==attrValue){_$(attrName).options[q].selected=true;break}}break};case"INPUT":{if(_$(attrName).attributes["type"].value=="checkbox"){if(attrValue!="none"&&attrValue!="normal"){_$(attrName).checked=true}else{_$(attrName).checked=false}}else{if(attrValue=="Transparent"){_$(attrName).value=""}else{_$(attrName).value=attrValue}}break}}}if(firstRun==true){switch(styleGroup.childNodes[y].nodeName){case"border":{CSSE_changeView("Border");CSSE_showTag("Border");break};case"font":{CSSE_changeView("Font");CSSE_showTag("Font");break};case"background":{CSSE_changeView("Background");CSSE_showTag("Background");break};case"margin":{CSSE_changeView("Margin");CSSE_showTag("Margin");break};case"padding":{CSSE_changeView("Padding");CSSE_showTag("Padding");break};case"scale":{CSSE_changeView("Scale");CSSE_showTag("Scale");break};case"height":{CSSE_changeView("Height");CSSE_showTag("Height");break}}firstRun=false}switch(styleGroup.childNodes[y].nodeName){case"border":{CSSE_showTag("Border");break};case"font":{CSSE_showTag("Font");break};case"background":{CSSE_showTag("Background");break};case"margin":{CSSE_showTag("Margin");break};case"padding":{CSSE_showTag("Padding");break};case"scale":{CSSE_showTag("Scale");break};case"height":{CSSE_showTag("Height");break}}}}}}break}}}function loadStyle(){loadCSSXML();for(i=0;i<CSSXML.childNodes.length;i++){if(CSSXML.childNodes[i].nodeType!=3){for(x=0;x<CSSXML.childNodes[i].childNodes.length;x++){if(CSSXML.childNodes[i].childNodes[x].nodeType!=3){currentStyle=CSSXML.childNodes[i].childNodes[x].nodeName;styleGroup=CSSXML.childNodes[i].childNodes[x];for(y=0;y<styleGroup.childNodes.length;y++){for(z=0;z<styleGroup.childNodes[y].attributes.length;z++){bind(styleGroup.childNodes[y].attributes[z].name,styleGroup.childNodes[y].attributes[z].value,true)}}}}break}}}function bindToXML(a,b){for(i=0;i<CSSXML.childNodes.length;i++){if(CSSXML.childNodes[i].nodeType!=3){for(x=0;x<CSSXML.childNodes[i].childNodes.length;x++){if(CSSXML.childNodes[i].childNodes[x].nodeType!=3){styleGroup=CSSXML.childNodes[i].childNodes[x];if(styleGroup.nodeName==currentStyle){for(y=0;y<styleGroup.childNodes.length;y++){if(styleGroup.childNodes[y].nodeType!=3){for(z=0;z<styleGroup.childNodes[y].attributes.length;z++){if(styleGroup.childNodes[y].attributes[z].name==a){switch(_$(a).nodeName){case"SELECT":{styleGroup.childNodes[y].attributes[z].value=b;break};case"INPUT":{if(_$(a).attributes["type"].value=="checkbox"){if(_$(a).id=="font-weight"&&_$(a).checked==false){styleGroup.childNodes[y].attributes[z].value="normal"}else if(_$(a).id=="font-style"&&_$(a).checked==false){styleGroup.childNodes[y].attributes[z].value="normal"}else if(_$(a).id=="text-decoration"&&_$(a).checked==false){styleGroup.childNodes[y].attributes[z].value="none"}else{styleGroup.childNodes[y].attributes[z].value=b}}else{styleGroup.childNodes[y].attributes[z].value=b}break}}break}}}}}}}break}}}function isNumeric(a){var b=/^[0-9]+$/;if(a.match(b)){return true}else{return false}}function isUrl(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}function isHex(a){if(a=="transparent"){return true}else{var b=/^#[0-9a-fA-F]{3,6}$/i;return b.test(a)}}function bind(a,b,c){var d=new bindObject(a,b);if(verifyBindValue(d)==null){return false}if(!c){bindToXML(d.elm,d.value)}bindToElement(d.elm,d.value,c);ShowXML()}function bindObject(a,b){this.elm=a;this.value=b}function verifyBindValue(a){elm=a.elm;value=a.value;if(!value){value=elm.value}if(elm.id){elm=elm.id}if(elm=="width"){if(isNumeric(value)==false){return null}}if(elm=="height"){if(isNumeric(value)==false){return null}}if(elm=="background-image"){if(value&&value.length&&value.length>0&&value!=elm){if(isUrl(value)==false){return null}}else return null}if(elm=="border-color"||elm=="color"||elm=="background-color"){if(value){if(value.indexOf("#")==-1)value="#"+value;if(isHex(value.toLowerCase())==false)return null}}a.elm=elm;a.value=value;return true}function bindToElement(a,b,c){var d=new bindObject(a,b);if(verifyBindValue(d)==null){return false}if(_$(currentStyle)==null||_$(currentStyle)=="undefined"){return false}var b=d.value;var e=_$(currentStyle).style;switch(d.elm){case"border-width":{e.borderWidth=b;break};case"border-radius":{e.MozBorderRadius=b;e.WebkitBorderRadius=b;break};case"border-style":{e.borderStyle=b;break};case"border-color":{if(b=="Transpa"){_$("border-color").value=""}e.borderColor=b;break};case"font-size":{e.fontSize=b;break};case"font-family":{e.fontFamily=b;break};case"font-weight":{if(c==true&&firstRun==true){e.fontWeight=b}else{if(_$(a).checked){e.fontWeight=b}else{e.fontWeight="normal"}}break};case"font-style":{if(c==true&&firstRun==true){e.fontStyle=b}else{if(_$(a).checked){e.fontStyle=b}else{e.fontStyle="normal"}}break};case"text-decoration":{if(c==true&&firstRun==true){e.textDecoration=b}else{if(_$(a).checked){e.textDecoration=b}else{e.textDecoration="none"}}break};case"line-height":{e.lineHeight=b;break};case"text-align":{e.textAlign=b;break};case"float":{e.cssFloat=b;break};case"color":{if(b=="Transpa"){_$("color").value=""}e.color=b;break};case"background-color":{if(b=="Transpa"){_$("background-color").value=""}e.backgroundColor=b;break};case"background-image":{if(b!=="undefined")e.backgroundImage="url("+b+")";break};case"background-repeat":{e.backgroundRepeat=b;break};case"background-position":{e.backgroundPosition=b;break};case"margin-top":{e.marginTop=b;break};case"margin-right":{e.marginRight=b;break};case"margin-bottom":{e.marginBottom=b;break};case"margin-left":{e.marginLeft=b;break};case"padding-top":{e.paddingTop=b;break};case"padding-right":{e.paddingRight=b;break};case"padding-bottom":{e.paddingBottom=b;break};case"padding-left":{e.paddingLeft=b;break};case"width":{e.width=b+"px";break};case"height":{e.height=b+"px";break};case"direction":{e.direction=b;break}}var f=["pds-link","pds-answer-group","pds-answer-input","pds-answer-feedback","pds-answer-feedback-bar","pds-feedback-group","pds-feedback-result","pds-feedback-per","pds-feedback-votes","pds-answer-text","pds-answer"];for(var g in f){var h=f[g];if(currentStyle.indexOf(h)==-1)continue;if(currentStyle==h){currentStyle=h+"1";if(!bindToElement(d.elm,b,c))currentStyle=h;break}else if(currentStyle==h+"1"){currentStyle=h+"2";if(!bindToElement(d.elm,b,c))currentStyle=h;break}else if(currentStyle==h+"2"){currentStyle=h+"3";if(!bindToElement(d.elm,b,c))currentStyle=h;break}else if(currentStyle==h+"3"){currentStyle=h;break}}return true}function force_rtl(){_$("style-force-rtl").style.display="none";_$("style-force-ltr").style.display="inline";var a=["pds-feedback-per","pds-feedback-votes"];var b=["pds-answer-input","pds-link","pds-textfield","pds-vote-button","pds-answer-feedback-bar","pds-totalvotes-inner","pds-answer-text","pds-answer-text","pds-answer"];var c=["pds-question-top","pds-answer","pds-link","pds-textfield","pds-vote-button","pds-totalvotes-inner","pds-answer-text","pds-feedback-per","pds-feedback-votes","pds-textfield"];for(var d in a){currentStyle=a[d];bind("float","left",false)}for(var d in b){currentStyle=b[d];bind("float","right",false)}for(var d in c){currentStyle=c[d];bind("text-align","right",false)}currentStyle="pds-box";bind("direction","rtl",false)}function force_ltr(){_$("style-force-rtl").style.display="inline";_$("style-force-ltr").style.display="none";var a=["pds-feedback-per","pds-feedback-votes"];var b=["pds-answer-input","pds-link","pds-textfield","pds-vote-button","pds-answer-feedback-bar","pds-totalvotes-inner","pds-answer-text","pds-answer-text","pds-answer"];var c=["pds-question-top","pds-answer","pds-link","pds-textfield","pds-vote-button","pds-totalvotes-inner","pds-answer-text","pds-feedback-per","pds-feedback-votes","pds-textfield"];for(var d in b){currentStyle=b[d];bind("float","left",false)}for(var d in a){currentStyle=a[d];bind("float","right",false)}for(var d in c){currentStyle=c[d];bind("text-align","left",false)}currentStyle="pds-box";bind("direction","ltr",false)}function loadCSSXML(){if(window.ActiveXObject){CSSXML=new ActiveXObject("Microsoft.XMLDOM");CSSXML.loadXML(CSSXMLString)}else{CSSXML=document.implementation.createDocument("","",null);objDOMParser=new DOMParser;CSSXML=objDOMParser.parseFromString(CSSXMLString,"text/xml")}}function ShowXML(){if(window.ActiveXObject){var a=CSSXML.xml}else if(document.implementation&&document.implementation.createDocument){var b=new XMLSerializer;var a=b.serializeToString(CSSXML)}document.getElementById("S_www").value=a}function submitStyleCSS(){pass=true;if(_$("styleName").value.trim().length==0){pass=false;_$("styleNameErr").style.display="block"}else{_$("styleNameErr").style.display="none"}if(_$("styleCSS").value.trim().length==0){pass=false;_$("styleCSSErr").style.display="block"}else{_$("styleCSSErr").style.display="none"}if(pass){_$("editStyle").submit()}}function preload_style(){if(_$("preload_value").value!="0"){window.location=window.location.href.replace(/(\&preload=(\d+))/g,"")+"&preload="+_$("preload_value").value}}document.onmousedown=mouseDown;var pd_map={thankyou:"Thank you for voting!",question:"Do you mostly use the internet at work, in school or at home?"};var currentTag="Background";var currentStyle;firstRun=true;